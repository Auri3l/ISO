<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISO 15489-1: Ä°nteraktif Dosya YÃ¶netim KÄ±lavuzu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony (Warm Neutral, Terracotta Accent, Slate Grey Text) -->
    <!-- Application Structure Plan: A task-oriented single-page application with a top navigation bar (Home, Lifecycle, Naming Tool, Archiving Rules, Principles). This structure was chosen over a linear report format to empower users to directly access the tools and information most relevant to them. The interactive Project Lifecycle diagram and File Naming Tool transform passive information into active utilities, which is the primary goal for usability. The flow is non-linear, allowing users to jump between conceptual understanding (Principles) and practical application (Tools). -->
    <!-- Visualization & Content Choices: 
        - Report Info: Project Lifecycle (Table 1) -> Goal: Organize/Change -> Viz: Interactive HTML/CSS process flow diagram -> Interaction: Click a stage to show associated documents. Justification: More engaging and space-efficient than a large static table. Library/Method: HTML/Tailwind/JS.
        - Report Info: File Naming Rules (Table 2) -> Goal: Organize/Utility -> Viz: Interactive Form -> Interaction: User fills form, filename is generated in real-time with a copy button. Justification: Turns a reference table into a practical, error-reducing tool. Library/Method: HTML/JS.
        - Report Info: Legal Retention Periods (Table 3) -> Goal: Compare/Inform -> Viz: Bar Chart -> Interaction: Hover for details (law, notes), filter buttons to show specific categories. Justification: Visualizes time-based data for quick comparison, better than scanning a table. Library/Method: Chart.js/Canvas.
        - Report Info: ISO Principles -> Goal: Inform -> Viz: HTML/CSS card layout. Justification: Clean, modern, easily digestible presentation. Library/Method: HTML/Tailwind. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF5; 
            color: #3D405B;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active, .nav-link:hover {
            color: #E07A5F;
            border-bottom-color: #E07A5F;
        }
        .btn-primary {
            background-color: #3D405B;
            color: #FFFFFF;
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: #55597d;
        }
        .btn-secondary {
            background-color: #81B29A;
            color: #FFFFFF;
            transition: background-color 0.3s;
        }
        .btn-secondary:hover {
            background-color: #9ac4af;
        }
        .btn-accent {
            background-color: #E07A5F;
            color: #FFFFFF;
            transition: background-color 0.3s;
        }
        .btn-accent:hover {
            background-color: #e68f7a;
        }
        .card {
            background-color: #FFFFFF;
            border: 1px solid #F0EAD6;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .lifecycle-stage {
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        .lifecycle-stage.active {
            border-color: #E07A5F;
            background-color: #fff;
            color: #3D405B;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
                max-height: 500px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-sm sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4">
            <nav class="flex items-center justify-between h-20">
                <div class="text-2xl font-bold text-[#3D405B]">
                    ISO 15489-1 KÄ±lavuzu
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#anasayfa" class="nav-link active">Anasayfa</a>
                    <a href="#dongu" class="nav-link">YaÅŸam DÃ¶ngÃ¼sÃ¼</a>
                    <a href="#arac" class="nav-link">Dosya AdlandÄ±rma</a>
                    <a href="#arsiv" class="nav-link">ArÅŸivleme KurallarÄ±</a>
                    <a href="#ilkeler" class="nav-link">Temel Ä°lkeler</a>
                </div>
                 <div class="md:hidden">
                    <select id="mobile-nav" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        <option value="anasayfa">Anasayfa</option>
                        <option value="dongu">YaÅŸam DÃ¶ngÃ¼sÃ¼</option>
                        <option value="arac">Dosya AdlandÄ±rma</option>
                        <option value="arsiv">ArÅŸivleme KurallarÄ±</option>
                        <option value="ilkeler">Temel Ä°lkeler</option>
                    </select>
                </div>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 md:py-12">

        <section id="anasayfa" class="content-section">
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold mb-4 text-[#3D405B]">Ä°nÅŸaat Projelerinde KayÄ±t YÃ¶netiminde UstalaÅŸÄ±n</h1>
                <p class="text-lg md:text-xl max-w-3xl mx-auto text-gray-600">ISO 15489-1 standardÄ± ile kat karÅŸÄ±lÄ±ÄŸÄ± projelerinizde verimliliÄŸi artÄ±rÄ±n, riskleri azaltÄ±n ve ÅŸeffaflÄ±ÄŸÄ± saÄŸlayÄ±n. Bu interaktif kÄ±lavuz, karmaÅŸÄ±k kurallarÄ± pratik adÄ±mlara dÃ¶nÃ¼ÅŸtÃ¼rmenize yardÄ±mcÄ± olmak iÃ§in tasarlandÄ±.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8 text-center">
                <div class="card p-8 rounded-lg">
                    <div class="text-5xl mb-4 text-[#81B29A]">âœ“</div>
                    <h3 class="text-xl font-bold mb-2">Yasal Uyumluluk</h3>
                    <p class="text-gray-600">TÃ¼rk Ticaret Kanunu, VUK ve SGK mevzuatÄ±na uygun saklama sÃ¼releri ile yasal riskleri en aza indirin.</p>
                </div>
                <div class="card p-8 rounded-lg">
                    <div class="text-5xl mb-4 text-[#E07A5F]">âš™ï¸</div>
                    <h3 class="text-xl font-bold mb-2">Operasyonel Verimlilik</h3>
                    <p class="text-gray-600">Standart dosya isimleri ve sÄ±nÄ±flandÄ±rma ile doÄŸru bilgiye saniyeler iÃ§inde ulaÅŸÄ±n, zaman kaybÄ±nÄ± Ã¶nleyin.</p>
                </div>
                <div class="card p-8 rounded-lg">
                    <div class="text-5xl mb-4 text-[#F2CC8F]">ğŸ¤</div>
                    <h3 class="text-xl font-bold mb-2">PaydaÅŸ GÃ¼veni</h3>
                    <p class="text-gray-600">Åeffaf ve dÃ¼zenli kayÄ±t yÃ¶netimi ile arsa sahipleri ve iÅŸ ortaklarÄ±nÄ±zla gÃ¼vene dayalÄ± iliÅŸkiler kurun.</p>
                </div>
            </div>
        </section>

        <section id="dongu" class="content-section hidden">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold mb-3">Ä°nteraktif Proje YaÅŸam DÃ¶ngÃ¼sÃ¼</h2>
                <p class="text-lg max-w-3xl mx-auto text-gray-600">Bir "Kat KarÅŸÄ±lÄ±ÄŸÄ±" projesinin her aÅŸamasÄ±nda Ã¼retilen kritik belgeleri keÅŸfedin. Ä°lgili belgeleri ve faaliyetleri gÃ¶rmek iÃ§in bir aÅŸamaya tÄ±klayÄ±n.</p>
            </div>

            <div class="relative overflow-x-auto pb-4">
                <div class="flex items-center space-x-2 md:space-x-4 min-w-max">
                    <div class="flex-1 lifecycle-stage p-4 rounded-lg text-center bg-gray-100" data-stage="1">
                        <span class="font-bold text-sm md:text-base">1. AnlaÅŸma</span>
                    </div>
                    <div class="text-gray-400 font-bold text-xl">&rarr;</div>
                    <div class="flex-1 lifecycle-stage p-4 rounded-lg text-center bg-gray-100" data-stage="2">
                        <span class="font-bold text-sm md:text-base">2. Projelendirme</span>
                    </div>
                    <div class="text-gray-400 font-bold text-xl">&rarr;</div>
                    <div class="flex-1 lifecycle-stage p-4 rounded-lg text-center bg-gray-100" data-stage="3">
                        <span class="font-bold text-sm md:text-base">3. Ä°zinler</span>
                    </div>
                    <div class="text-gray-400 font-bold text-xl">&rarr;</div>
                    <div class="flex-1 lifecycle-stage p-4 rounded-lg text-center bg-gray-100" data-stage="4">
                        <span class="font-bold text-sm md:text-base">4. Ä°nÅŸaat</span>
                    </div>
                    <div class="text-gray-400 font-bold text-xl">&rarr;</div>
                    <div class="flex-1 lifecycle-stage p-4 rounded-lg text-center bg-gray-100" data-stage="5">
                        <span class="font-bold text-sm md:text-base">5. Teslimat</span>
                    </div>
                </div>
            </div>

            <div id="lifecycle-details" class="mt-8">
            </div>
        </section>

        <section id="arac" class="content-section hidden">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold mb-3">Otomatik Dosya Ä°simlendirme AracÄ±</h2>
                <p class="text-lg max-w-3xl mx-auto text-gray-600">HatalarÄ± Ã¶nlemek ve tutarlÄ±lÄ±ÄŸÄ± saÄŸlamak iÃ§in standartlaÅŸtÄ±rÄ±lmÄ±ÅŸ dosya adlarÄ±nÄ± saniyeler iÃ§inde oluÅŸturun. Formu doldurun ve sonucu kopyalayÄ±n.</p>
            </div>
            <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8 items-start">
                <div class="card p-6 md:p-8 rounded-lg space-y-4">
                    <div>
                        <label for="projeKodu" class="block text-sm font-medium text-gray-700">Proje Kodu</label>
                        <input type="text" id="projeKodu" placeholder="Ã–rn: IST24MAR001" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label for="belgeKategori" class="block text-sm font-medium text-gray-700">Belge Kategorisi</label>
                        <select id="belgeKategori" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </select>
                    </div>
                    <div>
                        <label for="belgeTipi" class="block text-sm font-medium text-gray-700">Belge Tipi</label>
                        <select id="belgeTipi" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </select>
                    </div>
                    <div>
                        <label for="tarih" class="block text-sm font-medium text-gray-700">Tarih</label>
                        <input type="date" id="tarih" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <div>
                        <label for="versiyon" class="block text-sm font-medium text-gray-700">Versiyon</label>
                        <input type="text" id="versiyon" placeholder="Ã–rn: V01" value="V01" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label for="kisaAciklama" class="block text-sm font-medium text-gray-700">KÄ±sa AÃ§Ä±klama (Ä°steÄŸe baÄŸlÄ±)</label>
                        <input type="text" id="kisaAciklama" placeholder="Ã–rn: ZeminKatPlani" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                </div>
                <div class="bg-gray-50 p-6 rounded-lg sticky top-24">
                    <h3 class="font-bold text-lg mb-2">OluÅŸturulan Dosya AdÄ±:</h3>
                    <div id="sonucWrapper" class="bg-white p-4 rounded-md shadow-inner break-words">
                        <p id="sonucAdi" class="text-gray-800 font-mono"></p>
                    </div>
                     <div id="copy-message" class="text-green-600 mt-2 text-sm font-medium hidden">KopyalandÄ±!</div>
                    <button id="kopyalaButton" class="btn-accent w-full py-2 px-4 rounded-md mt-4 font-semibold">
                        Kopyala
                    </button>
                </div>
            </div>
        </section>

        <section id="arsiv" class="content-section hidden">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold mb-3">Yasal Saklama SÃ¼releri GrafiÄŸi</h2>
                <p class="text-lg max-w-3xl mx-auto text-gray-600">TÃ¼rkiye'deki yasal mevzuata gÃ¶re temel belge tÃ¼rleri iÃ§in zorunlu minimum saklama sÃ¼relerini gÃ¶rsel olarak karÅŸÄ±laÅŸtÄ±rÄ±n. Detaylar iÃ§in Ã§ubuklarÄ±n Ã¼zerine gelin.</p>
            </div>
            <div class="chart-container">
                <canvas id="retentionChart"></canvas>
            </div>
        </section>

        <section id="ilkeler" class="content-section hidden">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold mb-3">ISO 15489-1'in DÃ¶rt Temel Ä°lkesi</h2>
                <p class="text-lg max-w-3xl mx-auto text-gray-600">Yetkili ve gÃ¼venilir bir kayÄ±t yÃ¶netim sisteminin temelini oluÅŸturan ana prensipleri anlayÄ±n.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="card p-6 rounded-lg text-center">
                    <h3 class="font-bold text-xl mb-3 text-[#3D405B]">Ã–zgÃ¼nlÃ¼k</h3>
                    <p class="text-gray-600">KaydÄ±n iddia edildiÄŸi ÅŸey olduÄŸu, iddia edilen kiÅŸi tarafÄ±ndan, iddia edilen zamanda oluÅŸturulduÄŸu kanÄ±tlanabilmelidir. KaynaÄŸÄ±n doÄŸruluÄŸu esastÄ±r.</p>
                </div>
                <div class="card p-6 rounded-lg text-center">
                    <h3 class="font-bold text-xl mb-3 text-[#81B29A]">GÃ¼venilirlik</h3>
                    <p class="text-gray-600">KaydÄ±n iÃ§eriÄŸi, belgelediÄŸi olgularÄ± ve iÅŸlemleri tam ve doÄŸru bir ÅŸekilde temsil etmelidir. Ä°Ã§eriÄŸin doÄŸruluÄŸuna gÃ¼venilebilmelidir.</p>
                </div>
                 <div class="card p-6 rounded-lg text-center">
                    <h3 class="font-bold text-xl mb-3 text-[#E07A5F]">BÃ¼tÃ¼nlÃ¼k</h3>
                    <p class="text-gray-600">KaydÄ±n eksiksiz ve deÄŸiÅŸtirilmemiÅŸ olmasÄ±, yetkisiz deÄŸiÅŸikliklere karÅŸÄ± korunmasÄ± gerekir. KaydÄ±n tahrif edilmediÄŸinden emin olunmalÄ±dÄ±r.</p>
                </div>
                 <div class="card p-6 rounded-lg text-center">
                    <h3 class="font-bold text-xl mb-3 text-[#F2CC8F]">KullanÄ±labilirlik</h3>
                    <p class="text-gray-600">KaydÄ±n ihtiyaÃ§ duyulduÄŸunda bulunabilir, eriÅŸilebilir, sunulabilir ve yorumlanabilir olmasÄ± gerekir. Kayda eriÅŸim ve anlama kolaylÄ±ÄŸÄ± saÄŸlanmalÄ±dÄ±r.</p>
                </div>
            </div>
        </section>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const sections = document.querySelectorAll('.content-section');
            const navLinks = document.querySelectorAll('.nav-link');
            const mobileNav = document.getElementById('mobile-nav');

            function showSection(targetId) {
                sections.forEach(section => {
                    if (section.id === targetId) {
                        section.classList.remove('hidden');
                    } else {
                        section.classList.add('hidden');
                    }
                });

                navLinks.forEach(link => {
                    if (link.getAttribute('href') === `#${targetId}`) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
                
                if (mobileNav.value !== targetId) {
                    mobileNav.value = targetId;
                }
            }
            
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = e.currentTarget.getAttribute('href').substring(1);
                    showSection(targetId);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            });

            mobileNav.addEventListener('change', (e) => {
                showSection(e.target.value);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            const hash = window.location.hash.substring(1);
            if (hash) {
                showSection(hash);
            } else {
                showSection('anasayfa');
            }


            const lifecycleStages = document.querySelectorAll('.lifecycle-stage');
            const lifecycleDetailsContainer = document.getElementById('lifecycle-details');
            const lifecycleData = {
                '1': {
                    title: '1. AnlaÅŸma / Ã–n Planlama AÅŸamasÄ±',
                    description: 'Arsa sahibi ile mÃ¼teahhit arasÄ±ndaki mÃ¼zakereler yapÄ±lÄ±r ve projenin temeli olan sÃ¶zleÅŸme imzalanÄ±r.',
                    docs: ['Kat KarÅŸÄ±lÄ±ÄŸÄ± Ä°nÅŸaat SÃ¶zleÅŸmesi', 'Ek Protokoller', 'Vekaletname', 'Konsept Projeler', 'Teminat MektuplarÄ±', 'Arsa Tapu KayÄ±tlarÄ±']
                },
                '2': {
                    title: '2. Projelendirme AÅŸamasÄ±',
                    description: 'Mimari ve mÃ¼hendislik projeleri hazÄ±rlanÄ±r, malzeme ve kalite standartlarÄ±nÄ± detaylandÄ±ran teknik ÅŸartname geliÅŸtirilir.',
                    docs: ['Teknik Åartname (SÃ¶zleÅŸme Eki)', 'Mimari, Statik, Mekanik, Elektrik Projeleri', 'Zemin EtÃ¼d Raporu', 'KeÅŸif Ã–zeti', 'Proje BÃ¼tÃ§esi']
                },
                '3': {
                    title: '3. Ä°zinlerin AlÄ±nmasÄ± AÅŸamasÄ±',
                    description: 'Belediyelerden ve diÄŸer ilgili kurumlardan yasal izinlerin alÄ±nmasÄ± sÃ¼recidir. En Ã¶nemli belge YapÄ± RuhsatÄ±dÄ±r.',
                    docs: ['YapÄ± RuhsatÄ± BaÅŸvurusu ve Eki', 'OnaylÄ± Projeler', 'Ã‡ED Raporu (gerekirse)', 'HarÃ§ ve Vergi Ã–demeleri', 'Resmi Kurum YazÄ±ÅŸmalarÄ±']
                },
                '4': {
                    title: '4. Ä°nÅŸaat ve Denetim AÅŸamasÄ±',
                    description: 'ArsanÄ±n teslimi ile baÅŸlar. AltyapÄ±dan ince iÅŸlere kadar tÃ¼m imalatlar yapÄ±lÄ±r ve denetlenir.',
                    docs: ['YapÄ± RuhsatÄ±', 'Alt YÃ¼klenici SÃ¶zleÅŸmeleri', 'Malzeme OnaylarÄ±', 'Test RaporlarÄ± (Beton, Demir)', 'HakediÅŸ RaporlarÄ±', 'Saha RaporlarÄ±', 'YapÄ± Denetim RaporlarÄ±', 'Kat Ä°rtifakÄ± Kurulum Belgeleri']
                },
                '5': {
                    title: '5. Teslimat ve Son Ä°ÅŸlemler AÅŸamasÄ±',
                    description: 'Bitirme iÅŸleri tamamlanÄ±r, YapÄ± KullanÄ±m Ä°zin Belgesi (Ä°skÃ¢n) alÄ±nÄ±r ve daireler sÃ¶zleÅŸmeye uygun olarak teslim edilir.',
                    docs: ['YapÄ± KullanÄ±m Ä°zin Belgesi (Ä°skÃ¢n)', 'As-Built Ã‡izimler', 'Garanti Belgeleri', 'Kesin Hesap', 'Teslim TutanaklarÄ±', 'Kat MÃ¼lkiyeti TapularÄ±']
                }
            };

            function showLifecycleDetails(stageId) {
                const data = lifecycleData[stageId];
                if (!data) return;

                lifecycleDetailsContainer.innerHTML = `
                    <div class="card p-6 rounded-lg animate-fade-in">
                        <h3 class="font-bold text-xl mb-2 text-[#E07A5F]">${data.title}</h3>
                        <p class="text-gray-600 mb-4">${data.description}</p>
                        <h4 class="font-semibold mb-2">Ä°liÅŸkili Temel DokÃ¼manlar:</h4>
                        <ul class="grid grid-cols-2 md:grid-cols-3 gap-2 text-sm">
                            ${data.docs.map(doc => `<li class="bg-gray-100 p-2 rounded-md">${doc}</li>`).join('')}
                        </ul>
                    </div>
                `;
                
                lifecycleStages.forEach(stage => {
                    if(stage.dataset.stage === stageId){
                        stage.classList.add('active');
                    } else {
                        stage.classList.remove('active');
                    }
                });
            }

            lifecycleStages.forEach(stage => {
                stage.addEventListener('click', (e) => {
                    const stageId = e.currentTarget.dataset.stage;
                    showLifecycleDetails(stageId);
                });
            });
            showLifecycleDetails('1'); 


            const namingToolData = {
                'SZL': { name: 'SÃ¶zleÅŸmeler ve Hukuki Belgeler', types: { 'KKS': 'Kat KarÅŸÄ±lÄ±ÄŸÄ± Ä°nÅŸaat SÃ¶zleÅŸmesi', 'TKS': 'Teknik Åartname', 'VEK': 'Vekaletname', 'AYS': 'Alt YÃ¼klenici SÃ¶zleÅŸmesi' }},
                'TEK': { name: 'Teknik DokÃ¼manlar', types: { 'MIM': 'Mimari Proje', 'STA': 'Statik Proje', 'MEK': 'Mekanik Tesisat Projesi', 'ELK': 'Elektrik Tesisat Projesi', 'ZET': 'Zemin EtÃ¼d Raporu', 'BTR': 'Beton Test Raporu' }},
                'HUK': { name: 'Yasal ve Ä°dari Ä°zinler', types: { 'YR': 'YapÄ± RuhsatÄ±', 'YKI': 'YapÄ± KullanÄ±m Ä°zin Belgesi (Ä°skÃ¢n)', 'BEL': 'Belediye YazÄ±ÅŸmasÄ±', 'MYB': 'MÃ¼teahhit Yetki Belgesi' }},
                'FIN': { name: 'Finansal KayÄ±tlar', types: { 'HAK': 'HakediÅŸ Raporu', 'FAT': 'Fatura', 'ODE': 'Ã–deme Emri/Dekontu', 'BUT': 'BÃ¼tÃ§e Raporu' }},
                'PYI': { name: 'Proje YÃ¶netimi ve Ä°letiÅŸim', types: { 'TT': 'ToplantÄ± TutanaÄŸÄ±', 'SDR': 'Saha Denetim Raporu', 'IPR': 'Ä°ÅŸ ProgramÄ±', 'DTF': 'DeÄŸiÅŸiklik Talep Formu' }},
                'TAP': { name: 'Tapu ve MÃ¼lkiyet KayÄ±tlarÄ±', types: { 'ATS': 'Arsa Tapu Senedi', 'KIB': 'Kat Ä°rtifakÄ± Belgesi', 'KMT': 'Kat MÃ¼lkiyeti Tapusu', 'TML': 'Temlik SÃ¶zleÅŸmesi/Tapusu' }},
                'ISG': { name: 'Ä°ÅŸ SaÄŸlÄ±ÄŸÄ± ve GÃ¼venliÄŸi', types: { 'RKR': 'Ramak Kala Raporu', 'KZR': 'Kaza Raporu', 'RSK': 'Risk DeÄŸerlendirmesi', 'TUT': 'Ä°SG TutanaÄŸÄ±', 'EGT': 'Ä°SG EÄŸitimi KaydÄ±' }},
                'KLK': { name: 'Kalite Kontrol', types: { 'DOF': 'DÃ¼zeltici Ã–nleyici Faaliyet Raporu', 'MTR': 'Malzeme Test Raporu (Genel)', 'IKR': 'Ä°malat Kontrol Raporu', 'NMH': 'Numune Onay Formu', 'UKR': 'Uygunsuzluk Raporu' }}
            };

            const projeKoduEl = document.getElementById('projeKodu');
            const belgeKategoriEl = document.getElementById('belgeKategori');
            const belgeTipiEl = document.getElementById('belgeTipi');
            const tarihEl = document.getElementById('tarih');
            const versiyonEl = document.getElementById('versiyon');
            const kisaAciklamaEl = document.getElementById('kisaAciklama');
            const sonucAdiEl = document.getElementById('sonucAdi');
            const kopyalaButtonEl = document.getElementById('kopyalaButton');
            const copyMessageEl = document.getElementById('copy-message');

            function populateKategori() {
                belgeKategoriEl.innerHTML = '<option value="">SeÃ§iniz...</option>';
                for (const kod in namingToolData) {
                    const option = document.createElement('option');
                    option.value = kod;
                    option.textContent = `${kod} - ${namingToolData[kod].name}`;
                    belgeKategoriEl.appendChild(option);
                }
            }

            function populateTipi() {
                const kategoriKod = belgeKategoriEl.value;
                belgeTipiEl.innerHTML = '<option value="">SeÃ§iniz...</option>';
                if (kategoriKod && namingToolData[kategoriKod]) {
                    const tipler = namingToolData[kategoriKod].types;
                    for (const kod in tipler) {
                        const option = document.createElement('option');
                        option.value = kod;
                        option.textContent = `${kod} - ${tipler[kod]}`;
                        belgeTipiEl.appendChild(option);
                    }
                }
                generateFilename();
            }

            function generateFilename() {
                const projeKodu = projeKoduEl.value.trim() || '[ProjeKodu]';
                const belgeKategori = belgeKategoriEl.value || '[Kategori]';
                const belgeTipi = belgeTipiEl.value || '[Tip]';
                const tarih = tarihEl.value ? tarihEl.value.replace(/-/g, '') : '[YYYYAAGG]';
                const versiyon = versiyonEl.value.trim() || '[Versiyon]';
                let kisaAciklama = kisaAciklamaEl.value.trim().replace(/\s+/g, '_');
                kisaAciklama = kisaAciklama ? `_${kisaAciklama}` : '';

                const uzantiMap = { 'TEK': '.dwg', 'FIN': '.xlsx', 'PYI': '.docx', 'ISG': '.docx', 'KLK': '.docx' };
                const uzanti = uzantiMap[belgeKategori] || '.pdf';

                sonucAdiEl.textContent = `${projeKodu}_${belgeKategori}_${belgeTipi}_${tarih}_${versiyon}${kisaAciklama}${uzanti}`;
            }
            
            [projeKoduEl, belgeKategoriEl, belgeTipiEl, tarihEl, versiyonEl, kisaAciklamaEl].forEach(el => {
                el.addEventListener('input', generateFilename);
                el.addEventListener('change', generateFilename);
            });
            
            belgeKategoriEl.addEventListener('change', populateTipi);
            
            kopyalaButtonEl.addEventListener('click', () => {
                const textToCopy = sonucAdiEl.textContent;
                if (!textToCopy) return;

                const textArea = document.createElement("textarea");
                textArea.value = textToCopy;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    copyMessageEl.classList.remove('hidden');
                    setTimeout(() => copyMessageEl.classList.add('hidden'), 2000);
                } catch (err) {
                    console.error('Kopyalama baÅŸarÄ±sÄ±z oldu', err);
                }
                document.body.removeChild(textArea);
            });

            populateKategori();
            generateFilename();
            tarihEl.valueAsDate = new Date();
            generateFilename();


            const retentionData = {
                labels: ['Ticari Defterler', 'Ticari Belgeler (SÃ¶zleÅŸme vb.)', 'Vergi Belgeleri', 'YÄ±llara Sari Ä°nÅŸaat EvrakÄ±', 'SGK / Personel KayÄ±tlarÄ±', 'e-Defter ve BeratlarÄ±', 'Ä°nÅŸaat RuhsatÄ± & Ä°skan', 'Projeler ve Raporlar'],
                datasets: [{
                    label: 'Minimum Saklama SÃ¼resi (YÄ±l)',
                    data: [10, 10, 5, 5.1, 10, 10, 30, 30], // Using large numbers for "SÃ¼resiz"
                    backgroundColor: [
                        'rgba(61, 64, 91, 0.7)',
                        'rgba(61, 64, 91, 0.7)',
                        'rgba(242, 204, 143, 0.7)',
                        'rgba(242, 204, 143, 0.7)',
                        'rgba(129, 178, 154, 0.7)',
                        'rgba(61, 64, 91, 0.7)',
                        'rgba(224, 122, 95, 0.7)',
                        'rgba(224, 122, 95, 0.7)'
                    ],
                    borderColor: [
                        'rgba(61, 64, 91, 1)',
                        'rgba(61, 64, 91, 1)',
                        'rgba(242, 204, 143, 1)',
                        'rgba(242, 204, 143, 1)',
                        'rgba(129, 178, 154, 1)',
                        'rgba(61, 64, 91, 1)',
                        'rgba(224, 122, 95, 1)',
                        'rgba(224, 122, 95, 1)'
                    ],
                    borderWidth: 1,
                    notes: [
                        'Kaynak: TTK Md. 82',
                        'Kaynak: TTK Md. 82',
                        'Kaynak: VUK Md. 253',
                        'Ä°ÅŸin bittiÄŸi yÄ±lÄ± takip eden yÄ±ldan itibaren 5 yÄ±l. Kaynak: VUK Md. 253',
                        'Hizmet akdinin sona ermesinden sonra. Kaynak: SGK MevzuatÄ±',
                        'Kaynak: GÄ°B TebliÄŸi, TTK, VUK',
                        'Yasal zorunluluk olmasa da yapÄ±nÄ±n Ã¶mrÃ¼ boyunca saklanmasÄ± tavsiye edilir. (SÃ¼resiz)',
                        'OlasÄ± anlaÅŸmazlÄ±klar iÃ§in yapÄ±nÄ±n Ã¶mrÃ¼ boyunca saklanmasÄ± tavsiye edilir. (SÃ¼resiz)'
                    ]
                }]
            };

            const ctx = document.getElementById('retentionChart').getContext('2d');
            const retentionChart = new Chart(ctx, {
                type: 'bar',
                data: retentionData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Saklama SÃ¼resi (YÄ±l)'
                            },
                             ticks: {
                                callback: function(value, index, values) {
                                    return value > 25 ? 'SÃ¼resiz' : value;
                                }
                            }
                        },
                        y: {
                           ticks: {
                                autoSkip: false
                           }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    let value = context.raw;
                                    if (value > 25) {
                                        label += 'SÃ¼resiz';
                                    } else if (value === 5.1) {
                                        label += '5 YÄ±l (Ã–zel Durumlu)';
                                    } else {
                                        label += value + ' YÄ±l';
                                    }
                                    return label;
                                },
                                afterLabel: function(context) {
                                    return context.dataset.notes[context.dataIndex] || '';
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>

</body>
</html>
